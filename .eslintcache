[{"/home/florentl/Workground/Hackathon-2/front/hackathon-2-front/src/index.js":"1","/home/florentl/Workground/Hackathon-2/front/hackathon-2-front/src/App.js":"2","/home/florentl/Workground/Hackathon-2/front/hackathon-2-front/src/components/elements/Header/Header.jsx":"3","/home/florentl/Workground/Hackathon-2/front/hackathon-2-front/src/components/pages/Map/Map.jsx":"4","/home/florentl/Workground/Hackathon-2/front/hackathon-2-front/src/components/elements/SelectedMarker/SelectedMarker.jsx":"5","/home/florentl/Workground/Hackathon-2/front/hackathon-2-front/src/components/elements/SelectedMarker/SelectedMarkerAch.jsx":"6","/home/florentl/Workground/Hackathon-2/front/hackathon-2-front/src/components/elements/SelectedMarker/SelectedMarkerAgri.jsx":"7"},{"size":219,"mtime":1610535459940,"results":"8","hashOfConfig":"9"},{"size":389,"mtime":1610660345826,"results":"10","hashOfConfig":"9"},{"size":339,"mtime":1610636135079,"results":"11","hashOfConfig":"9"},{"size":6753,"mtime":1610660334726,"results":"12","hashOfConfig":"9"},{"size":529,"mtime":1610651603791,"results":"13","hashOfConfig":"9"},{"size":2370,"mtime":1610636731202,"results":"14","hashOfConfig":"9"},{"size":2457,"mtime":1610661841630,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"18uupbx",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/florentl/Workground/Hackathon-2/front/hackathon-2-front/src/index.js",[],["32","33"],"/home/florentl/Workground/Hackathon-2/front/hackathon-2-front/src/App.js",[],"/home/florentl/Workground/Hackathon-2/front/hackathon-2-front/src/components/elements/Header/Header.jsx",[],"/home/florentl/Workground/Hackathon-2/front/hackathon-2-front/src/components/pages/Map/Map.jsx",["34","35","36","37","38","39","40"],"import React, { Component } from \"react\";\nimport SelectedMarker from \"../../elements/SelectedMarker/SelectedMarker\";\nimport \"./Map.scss\";\n\nimport mapboxgl from \"mapbox-gl\";\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoiZmxvcmVudGxlbSIsImEiOiJja2hveDNuYzcxNWY5MndteDM2djE3NnlxIn0.UuP-JCIEimNyvaSefaRr9A\";\n\nlet map;\nconst displayMarker = [];\nconst displayCurrent = [];\nclass Map extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lat: 47.941807,\n      lng: 2.003303,\n      zoom: 5.4,\n      attributionControl: false,\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      setSelectedMarker,\n      setSelectedCapital,\n      setMapGenetate,\n      filters,\n      drawAch,\n      drawAgri,\n    } = this.props;\n    if (drawAch !== prevProps.drawAch || drawAgri !== prevProps.drawAgri) {\n      let array = [];\n      let array2 = [];\n      if (!drawAch) {\n        array = displayCurrent.filter((el) => el.type === \"acheteur\");\n      }\n      if (!drawAgri) {\n        array2 = displayCurrent.filter((el) => el.type === \"agriculteur\");\n      }\n      array.map((item) => {\n        item.mark.remove();\n      });\n      array2.map((item) => {\n        item.mark.remove();\n      });\n    }\n    if (this.props.mapGenetate) {\n      map = new mapboxgl.Map({\n        container: this.mapContainer,\n        style: \"mapbox://styles/florentlem/ckjvfba3q07a517parv0h15ln\",\n        center: [this.state.lng, this.state.lat],\n        zoom: this.state.zoom,\n        attributionControl: false,\n      });\n      map.addControl(\n        new mapboxgl.GeolocateControl({\n          positionOptions: {\n            enableHighAccuracy: false,\n          },\n          trackUserLocation: true,\n          fitBoundsOptions: { maxZoom: 8 },\n        })\n      );\n      map.on(\"load\", function () {\n        // aaa\n      });\n    }\n    if (this.props.dep !== prevProps.dep || filters !== prevProps.filters) {\n      displayMarker.map((item) => {\n        item.remove();\n      });\n      this.props.drawMarker\n        .filter((item) => item.type !== undefined)\n        .filter(\n          (item) =>\n            !(\n              filters[0].checked &&\n              item.type.includes(filters[0].type.toLowerCase())\n            )\n        )\n        .filter(\n          (item) =>\n            !(\n              filters[1].checked &&\n              item.type.includes(filters[1].type.toLowerCase())\n            )\n        )\n        .filter(\n          (item) =>\n            !(\n              filters[2].checked &&\n              item.type.includes(filters[2].type.toLowerCase())\n            )\n        )\n        .filter(\n          (item) =>\n            !(\n              filters[3].checked &&\n              item.type.includes(filters[3].type.toLowerCase())\n            )\n        )\n        .filter(\n          (item) =>\n            !(\n              filters[4].checked &&\n              item.type.includes(filters[4].type.toLowerCase())\n            )\n        )\n        .filter(\n          (item) =>\n            !(\n              filters[5].checked &&\n              item.type.includes(filters[5].type.toLowerCase())\n            )\n        )\n        .filter(\n          (item) =>\n            !(\n              filters[6].checked &&\n              item.type.includes(filters[6].type.toLowerCase())\n            )\n        )\n        .filter(\n          (item) =>\n            !(\n              filters[7].checked &&\n              item.type.includes(filters[7].type.toLowerCase())\n            )\n        )\n        .filter(\n          (item) =>\n            !(\n              filters[8].checked &&\n              item.type.includes(filters[8].type.toLowerCase())\n            )\n        )\n        .map((point) => {\n          const marker = document.createElement(\"div\");\n          marker.className = \"markerMap\";\n          marker.addEventListener(\"click\", function () {\n            map.flyTo({\n              center: [point.longitude, point.latitude],\n              zoom: 10.5,\n              speed: 1.1,\n            });\n            setSelectedMarker(point);\n          });\n          const mark = new mapboxgl.Marker({ element: marker })\n            .setLngLat([point.longitude, point.latitude])\n            .addTo(map);\n          displayMarker.push(mark);\n        });\n    } else if (this.props.drawMarker.length === 0) {\n      displayMarker.map((item) => {\n        item.remove();\n      });\n    }\n    if (\n      (drawAgri !== prevProps.drawAgri && drawAgri) ||\n      (this.props.firstGenerate && this.props.capital.length !== 0)\n    ) {\n      this.props.capital.map((point) => {\n        const markerWrapper = document.createElement(\"div\");\n        const marker = document.createElement(\"div\");\n        const p = document.createElement(\"p\");\n        p.className = \"markerMap2Text\";\n        p.innerText = this.props.markers.filter(\n          (item) => Math.floor(item.zipcode / 1000) === point.dep\n        ).length;\n        markerWrapper.appendChild(marker);\n        markerWrapper.appendChild(p);\n        marker.className = \"markerMap2\";\n        marker.addEventListener(\"click\", function () {\n          map.flyTo({\n            center: [point.longitude, point.latitude],\n            zoom: 8.0,\n            speed: 0.9,\n          });\n          setSelectedCapital(point);\n        });\n\n        const mark = new mapboxgl.Marker({ element: markerWrapper })\n          .setLngLat([point.longitude, point.latitude])\n          .addTo(map);\n        displayCurrent.push({ mark: mark, type: \"agriculteur\" });\n      });\n      this.props.setFirstGenerate()\n    }\n    if (drawAch !== prevProps.drawAch && drawAch) {\n      this.props.markersAch.map((point) => {\n        const marker = document.createElement(\"div\");\n        marker.className = \"markerMapAcheteur\";\n        marker.addEventListener(\"click\", function () {\n          map.flyTo({\n            center: [point.longitude, point.latitude],\n            zoom: 10.5,\n            speed: 1.1,\n          });\n          setSelectedMarker(point);\n        });\n        const mark = new mapboxgl.Marker({ element: marker })\n          .setLngLat([point.longitude, point.latitude])\n          .addTo(map);\n        displayCurrent.push({ mark: mark, type: \"acheteur\" });\n      });\n    }\n    if (this.props.mapGenetate) {\n      setMapGenetate();\n    }\n  }\n  render() {\n    const { selectedMarker, closedLocation, drawAch, drawAgri } = this.props;\n    console.log(drawAch, \"acheteurs\");\n    console.log(drawAgri, \"agriculteurs\");\n    return (\n      <>\n        {selectedMarker && (\n          <>\n            <SelectedMarker\n              marker={selectedMarker}\n              closedLocation={closedLocation}\n            />\n          </>\n        )}\n        <div\n          ref={(el) => (this.mapContainer = el)}\n          className=\"map__globalContainer\"\n        />\n      </>\n    );\n  }\n}\n\nexport default Map;\n","/home/florentl/Workground/Hackathon-2/front/hackathon-2-front/src/components/elements/SelectedMarker/SelectedMarker.jsx",[],"/home/florentl/Workground/Hackathon-2/front/hackathon-2-front/src/components/elements/SelectedMarker/SelectedMarkerAch.jsx",[],"/home/florentl/Workground/Hackathon-2/front/hackathon-2-front/src/components/elements/SelectedMarker/SelectedMarkerAgri.jsx",[],{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","severity":1,"message":"46","line":41,"column":24,"nodeType":"47","messageId":"48","endLine":41,"endColumn":26},{"ruleId":"45","severity":1,"message":"46","line":44,"column":25,"nodeType":"47","messageId":"48","endLine":44,"endColumn":27},{"ruleId":"45","severity":1,"message":"46","line":70,"column":32,"nodeType":"47","messageId":"48","endLine":70,"endColumn":34},{"ruleId":"45","severity":1,"message":"46","line":138,"column":22,"nodeType":"47","messageId":"48","endLine":138,"endColumn":24},{"ruleId":"45","severity":1,"message":"46","line":155,"column":32,"nodeType":"47","messageId":"48","endLine":155,"endColumn":34},{"ruleId":"45","severity":1,"message":"46","line":163,"column":38,"nodeType":"47","messageId":"48","endLine":163,"endColumn":40},{"ruleId":"45","severity":1,"message":"46","line":191,"column":41,"nodeType":"47","messageId":"48","endLine":191,"endColumn":43},"no-native-reassign",["49"],"no-negated-in-lhs",["50"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-global-assign","no-unsafe-negation"]